{"id":"node_modules/pixi.js/lib/prepare/PrepareBase.mjs","dependencies":[{"name":"/home/flamcom27/Projects/flappy_bird_clone/node_modules/pixi.js/lib/prepare/PrepareBase.mjs.map","includedInParent":true,"mtime":1755802195673},{"name":"/home/flamcom27/Projects/flappy_bird_clone/package.json","includedInParent":true,"mtime":1757622785544},{"name":"/home/flamcom27/Projects/flappy_bird_clone/node_modules/pixi.js/package.json","includedInParent":true,"mtime":1755802195498},{"name":"../scene/container/Container.mjs","loc":{"line":1,"column":26,"index":26},"parent":"/home/flamcom27/Projects/flappy_bird_clone/node_modules/pixi.js/lib/prepare/PrepareBase.mjs","resolved":"/home/flamcom27/Projects/flappy_bird_clone/node_modules/pixi.js/lib/scene/container/Container.mjs"},{"name":"../ticker/const.mjs","loc":{"line":2,"column":32,"index":94},"parent":"/home/flamcom27/Projects/flappy_bird_clone/node_modules/pixi.js/lib/prepare/PrepareBase.mjs","resolved":"/home/flamcom27/Projects/flappy_bird_clone/node_modules/pixi.js/lib/ticker/const.mjs"},{"name":"../ticker/Ticker.mjs","loc":{"line":3,"column":23,"index":140},"parent":"/home/flamcom27/Projects/flappy_bird_clone/node_modules/pixi.js/lib/prepare/PrepareBase.mjs","resolved":"/home/flamcom27/Projects/flappy_bird_clone/node_modules/pixi.js/lib/ticker/Ticker.mjs"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PrepareBase = void 0;\nvar _Container = require(\"../scene/container/Container.mjs\");\nvar _const = require(\"../ticker/const.mjs\");\nvar _Ticker = require(\"../ticker/Ticker.mjs\");\n\"use strict\";\nconst _PrepareBase = class _PrepareBase {\n  /**\n   * @param {Renderer} renderer - A reference to the current renderer\n   */\n  constructor(renderer) {\n    /** called per frame by the ticker, defer processing to next tick */\n    this._tick = () => {\n      this.timeout = setTimeout(this._processQueue, 0);\n    };\n    /** process the queue up to max item limit per frame */\n    this._processQueue = () => {\n      const {\n        queue\n      } = this;\n      let itemsProcessed = 0;\n      while (queue.length && itemsProcessed < _PrepareBase.uploadsPerFrame) {\n        const queueItem = queue.shift();\n        this.uploadQueueItem(queueItem);\n        itemsProcessed++;\n      }\n      if (queue.length) {\n        _Ticker.Ticker.system.addOnce(this._tick, this, _const.UPDATE_PRIORITY.UTILITY);\n      } else {\n        this._resolve();\n      }\n    };\n    this.renderer = renderer;\n    this.queue = [];\n    this.resolves = [];\n  }\n  /**\n   * Return a copy of the queue\n   * @returns {PrepareQueueItem[]} The queue\n   */\n  getQueue() {\n    return [...this.queue];\n  }\n  /**\n   * Add a textures or graphics resource to the queue\n   * @param {PrepareSourceItem | PrepareSourceItem[]} resource\n   */\n  add(resource) {\n    const resourceArray = Array.isArray(resource) ? resource : [resource];\n    for (const resourceItem of resourceArray) {\n      if (resourceItem instanceof _Container.Container) {\n        this._addContainer(resourceItem);\n      } else {\n        this.resolveQueueItem(resourceItem, this.queue);\n      }\n    }\n    return this;\n  }\n  /**\n   * Recursively add a container and its children to the queue\n   * @param {Container} container - The container to add to the queue\n   */\n  _addContainer(container) {\n    this.resolveQueueItem(container, this.queue);\n    for (const child of container.children) {\n      this._addContainer(child);\n    }\n  }\n  /**\n   * Upload all the textures and graphics to the GPU (optionally add more resources to the queue first)\n   * @param {PrepareSourceItem | PrepareSourceItem[] | undefined} resource\n   */\n  upload(resource) {\n    if (resource) {\n      this.add(resource);\n    }\n    return new Promise(resolve => {\n      if (this.queue.length) {\n        this.resolves.push(resolve);\n        this.dedupeQueue();\n        _Ticker.Ticker.system.addOnce(this._tick, this, _const.UPDATE_PRIORITY.UTILITY);\n      } else {\n        resolve();\n      }\n    });\n  }\n  /** eliminate duplicates before processing */\n  dedupeQueue() {\n    const hash = /* @__PURE__ */Object.create(null);\n    let nextUnique = 0;\n    for (let i = 0; i < this.queue.length; i++) {\n      const current = this.queue[i];\n      if (!hash[current.uid]) {\n        hash[current.uid] = true;\n        this.queue[nextUnique++] = current;\n      }\n    }\n    this.queue.length = nextUnique;\n  }\n  /** Call all the resolve callbacks */\n  _resolve() {\n    const {\n      resolves\n    } = this;\n    const array = resolves.slice(0);\n    resolves.length = 0;\n    for (const resolve of array) {\n      resolve();\n    }\n  }\n};\n/** The number of uploads to process per frame */\n_PrepareBase.uploadsPerFrame = 4;\nlet PrepareBase = exports.PrepareBase = _PrepareBase;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":31,"column":7},"generated":{"line":11,"column":0}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":31,"column":22},"generated":{"line":11,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":31,"column":22},"generated":{"line":11,"column":18}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":31,"column":7},"generated":{"line":11,"column":21}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":31,"column":22},"generated":{"line":11,"column":27}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":32,"column":0},"generated":{"line":11,"column":39}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":32,"column":0},"generated":{"line":11,"column":40}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":32,"column":0},"generated":{"line":12,"column":2}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":32,"column":0},"generated":{"line":13,"column":0}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":32,"column":0},"generated":{"line":14,"column":0}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":51,"column":4},"generated":{"line":15,"column":2}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":51,"column":4},"generated":{"line":15,"column":13}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":51,"column":16},"generated":{"line":15,"column":14}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":52,"column":4},"generated":{"line":15,"column":22}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":52,"column":4},"generated":{"line":15,"column":24}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":163,"column":4},"generated":{"line":16,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":163,"column":4},"generated":{"line":17,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":163,"column":4},"generated":{"line":17,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":163,"column":21},"generated":{"line":17,"column":9}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":163,"column":21},"generated":{"line":17,"column":14}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":163,"column":29},"generated":{"line":17,"column":17}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":164,"column":4},"generated":{"line":17,"column":23}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":165,"column":8},"generated":{"line":18,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":165,"column":8},"generated":{"line":18,"column":10}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":165,"column":13},"generated":{"line":18,"column":11}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":165,"column":23},"generated":{"line":18,"column":18}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":165,"column":23},"generated":{"line":18,"column":21}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":165,"column":23},"generated":{"line":18,"column":31}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":165,"column":34},"generated":{"line":18,"column":32}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":165,"column":39},"generated":{"line":18,"column":36}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":165,"column":39},"generated":{"line":18,"column":37}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":165,"column":39},"generated":{"line":18,"column":50}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":165,"column":54},"generated":{"line":18,"column":52}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":165,"column":55},"generated":{"line":18,"column":53}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":165,"column":55},"generated":{"line":18,"column":54}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":165,"column":55},"generated":{"line":19,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":166,"column":4},"generated":{"line":19,"column":5}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":169,"column":4},"generated":{"line":20,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":169,"column":4},"generated":{"line":21,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":169,"column":4},"generated":{"line":21,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":169,"column":21},"generated":{"line":21,"column":9}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":169,"column":21},"generated":{"line":21,"column":22}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":169,"column":37},"generated":{"line":21,"column":25}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":170,"column":4},"generated":{"line":21,"column":31}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":171,"column":14},"generated":{"line":22,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":171,"column":14},"generated":{"line":22,"column":12}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":171,"column":16},"generated":{"line":23,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":171,"column":16},"generated":{"line":24,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":171,"column":26},"generated":{"line":24,"column":7}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":171,"column":26},"generated":{"line":24,"column":10}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":171,"column":26},"generated":{"line":24,"column":14}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":172,"column":8},"generated":{"line":25,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":172,"column":12},"generated":{"line":25,"column":10}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":172,"column":29},"generated":{"line":25,"column":24}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":172,"column":29},"generated":{"line":25,"column":27}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":172,"column":29},"generated":{"line":25,"column":28}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":175,"column":8},"generated":{"line":26,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":175,"column":15},"generated":{"line":26,"column":13}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":175,"column":21},"generated":{"line":26,"column":18}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":175,"column":21},"generated":{"line":26,"column":19}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":175,"column":21},"generated":{"line":26,"column":25}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":175,"column":31},"generated":{"line":26,"column":29}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":175,"column":48},"generated":{"line":26,"column":43}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":175,"column":48},"generated":{"line":26,"column":46}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":175,"column":48},"generated":{"line":26,"column":58}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":175,"column":60},"generated":{"line":26,"column":59}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":176,"column":8},"generated":{"line":26,"column":74}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":176,"column":8},"generated":{"line":26,"column":76}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":177,"column":18},"generated":{"line":27,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":177,"column":18},"generated":{"line":27,"column":14}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":177,"column":18},"generated":{"line":27,"column":23}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":177,"column":30},"generated":{"line":27,"column":26}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":177,"column":30},"generated":{"line":27,"column":31}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":177,"column":36},"generated":{"line":27,"column":32}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":177,"column":42},"generated":{"line":27,"column":37}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":177,"column":42},"generated":{"line":27,"column":38}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":177,"column":42},"generated":{"line":27,"column":39}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":179,"column":12},"generated":{"line":28,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":179,"column":12},"generated":{"line":28,"column":12}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":179,"column":17},"generated":{"line":28,"column":13}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":179,"column":17},"generated":{"line":28,"column":28}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":179,"column":33},"generated":{"line":28,"column":29}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":179,"column":42},"generated":{"line":28,"column":38}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":179,"column":42},"generated":{"line":28,"column":39}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":181,"column":12},"generated":{"line":29,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":181,"column":12},"generated":{"line":29,"column":22}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":181,"column":12},"generated":{"line":29,"column":24}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":181,"column":12},"generated":{"line":30,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":184,"column":8},"generated":{"line":31,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":184,"column":12},"generated":{"line":31,"column":10}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":184,"column":12},"generated":{"line":31,"column":15}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":184,"column":18},"generated":{"line":31,"column":16}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":185,"column":8},"generated":{"line":31,"column":22}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":185,"column":8},"generated":{"line":31,"column":24}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":187,"column":12},"generated":{"line":32,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":187,"column":12},"generated":{"line":32,"column":22}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":187,"column":19},"generated":{"line":32,"column":23}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":187,"column":19},"generated":{"line":32,"column":29}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":187,"column":26},"generated":{"line":32,"column":30}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":187,"column":34},"generated":{"line":32,"column":37}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":187,"column":34},"generated":{"line":32,"column":38}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":187,"column":34},"generated":{"line":32,"column":42}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":187,"column":39},"generated":{"line":32,"column":43}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":187,"column":46},"generated":{"line":32,"column":48}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":187,"column":46},"generated":{"line":32,"column":50}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":187,"column":46},"generated":{"line":32,"column":54}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":187,"column":52},"generated":{"line":32,"column":56}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":187,"column":52},"generated":{"line":32,"column":78}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":187,"column":68},"generated":{"line":32,"column":79}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":187,"column":75},"generated":{"line":32,"column":86}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":187,"column":75},"generated":{"line":32,"column":87}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":187,"column":75},"generated":{"line":33,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":190,"column":8},"generated":{"line":33,"column":7}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":190,"column":8},"generated":{"line":33,"column":13}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":192,"column":12},"generated":{"line":34,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":192,"column":12},"generated":{"line":34,"column":12}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":192,"column":17},"generated":{"line":34,"column":13}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":192,"column":26},"generated":{"line":34,"column":21}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":192,"column":26},"generated":{"line":34,"column":22}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":192,"column":26},"generated":{"line":34,"column":23}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":192,"column":26},"generated":{"line":35,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":193,"column":8},"generated":{"line":36,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":194,"column":4},"generated":{"line":36,"column":5}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":37,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":37,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":53,"column":13},"generated":{"line":37,"column":9}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":53,"column":24},"generated":{"line":37,"column":17}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":53,"column":24},"generated":{"line":37,"column":20}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":53,"column":24},"generated":{"line":37,"column":28}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":54,"column":8},"generated":{"line":38,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":54,"column":8},"generated":{"line":38,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":54,"column":13},"generated":{"line":38,"column":9}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":54,"column":13},"generated":{"line":38,"column":14}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":54,"column":21},"generated":{"line":38,"column":17}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":54,"column":22},"generated":{"line":38,"column":19}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":39,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":39,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":55,"column":13},"generated":{"line":39,"column":9}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":55,"column":13},"generated":{"line":39,"column":17}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":55,"column":24},"generated":{"line":39,"column":20}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":55,"column":25},"generated":{"line":39,"column":22}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":55,"column":25},"generated":{"line":40,"column":2}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":56,"column":4},"generated":{"line":41,"column":2}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":56,"column":4},"generated":{"line":42,"column":0}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":56,"column":4},"generated":{"line":43,"column":0}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":56,"column":4},"generated":{"line":44,"column":0}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":66,"column":11},"generated":{"line":45,"column":2}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":67,"column":4},"generated":{"line":45,"column":10}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":67,"column":4},"generated":{"line":45,"column":11}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":67,"column":4},"generated":{"line":45,"column":13}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":68,"column":15},"generated":{"line":46,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":68,"column":15},"generated":{"line":46,"column":11}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":68,"column":16},"generated":{"line":46,"column":12}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":68,"column":19},"generated":{"line":46,"column":15}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":68,"column":19},"generated":{"line":46,"column":19}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":68,"column":24},"generated":{"line":46,"column":20}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":68,"column":29},"generated":{"line":46,"column":25}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":68,"column":29},"generated":{"line":46,"column":26}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":68,"column":29},"generated":{"line":47,"column":2}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":69,"column":4},"generated":{"line":48,"column":2}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":69,"column":4},"generated":{"line":49,"column":0}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":69,"column":4},"generated":{"line":50,"column":0}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":69,"column":4},"generated":{"line":51,"column":0}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":75,"column":11},"generated":{"line":52,"column":2}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":75,"column":11},"generated":{"line":52,"column":5}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":75,"column":15},"generated":{"line":52,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":76,"column":4},"generated":{"line":52,"column":14}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":76,"column":4},"generated":{"line":52,"column":16}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":77,"column":8},"generated":{"line":53,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":77,"column":14},"generated":{"line":53,"column":10}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":77,"column":14},"generated":{"line":53,"column":23}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":77,"column":30},"generated":{"line":53,"column":26}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":77,"column":36},"generated":{"line":53,"column":31}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":77,"column":36},"generated":{"line":53,"column":32}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":77,"column":36},"generated":{"line":53,"column":39}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":77,"column":44},"generated":{"line":53,"column":40}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":77,"column":52},"generated":{"line":53,"column":48}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":77,"column":56},"generated":{"line":53,"column":49}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":77,"column":56},"generated":{"line":53,"column":52}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":77,"column":56},"generated":{"line":53,"column":60}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":77,"column":67},"generated":{"line":53,"column":63}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":77,"column":68},"generated":{"line":53,"column":64}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":77,"column":76},"generated":{"line":53,"column":72}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":77,"column":76},"generated":{"line":53,"column":73}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":79,"column":8},"generated":{"line":54,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":79,"column":8},"generated":{"line":54,"column":9}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":79,"column":19},"generated":{"line":54,"column":15}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":79,"column":19},"generated":{"line":54,"column":27}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":79,"column":35},"generated":{"line":54,"column":31}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":80,"column":8},"generated":{"line":54,"column":44}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":80,"column":8},"generated":{"line":54,"column":46}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":82,"column":12},"generated":{"line":55,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":82,"column":16},"generated":{"line":55,"column":10}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":82,"column":16},"generated":{"line":55,"column":22}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":82,"column":40},"generated":{"line":55,"column":34}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":83,"column":12},"generated":{"line":55,"column":54}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":83,"column":12},"generated":{"line":55,"column":56}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":84,"column":16},"generated":{"line":56,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":84,"column":16},"generated":{"line":56,"column":12}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":84,"column":21},"generated":{"line":56,"column":13}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":84,"column":21},"generated":{"line":56,"column":26}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":84,"column":35},"generated":{"line":56,"column":27}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":84,"column":47},"generated":{"line":56,"column":39}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":84,"column":47},"generated":{"line":56,"column":40}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":84,"column":47},"generated":{"line":57,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":87,"column":12},"generated":{"line":57,"column":7}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":87,"column":12},"generated":{"line":57,"column":13}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":88,"column":21},"generated":{"line":58,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":88,"column":21},"generated":{"line":58,"column":12}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":88,"column":21},"generated":{"line":58,"column":13}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":88,"column":21},"generated":{"line":58,"column":29}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":88,"column":38},"generated":{"line":58,"column":30}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":88,"column":52},"generated":{"line":58,"column":42}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":88,"column":52},"generated":{"line":58,"column":44}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":88,"column":52},"generated":{"line":58,"column":48}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":88,"column":57},"generated":{"line":58,"column":49}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":88,"column":62},"generated":{"line":58,"column":54}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":88,"column":62},"generated":{"line":58,"column":55}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":88,"column":62},"generated":{"line":59,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":89,"column":12},"generated":{"line":60,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":92,"column":15},"generated":{"line":61,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":92,"column":15},"generated":{"line":61,"column":11}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":92,"column":15},"generated":{"line":61,"column":15}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":92,"column":15},"generated":{"line":62,"column":2}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":93,"column":4},"generated":{"line":63,"column":2}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":93,"column":4},"generated":{"line":64,"column":0}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":93,"column":4},"generated":{"line":65,"column":0}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":93,"column":4},"generated":{"line":66,"column":0}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":99,"column":12},"generated":{"line":67,"column":2}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":99,"column":12},"generated":{"line":67,"column":15}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":99,"column":26},"generated":{"line":67,"column":16}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":100,"column":4},"generated":{"line":67,"column":25}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":100,"column":4},"generated":{"line":67,"column":27}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":101,"column":13},"generated":{"line":68,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":101,"column":13},"generated":{"line":68,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":101,"column":13},"generated":{"line":68,"column":9}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":101,"column":13},"generated":{"line":68,"column":25}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":101,"column":30},"generated":{"line":68,"column":26}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":101,"column":41},"generated":{"line":68,"column":35}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":101,"column":41},"generated":{"line":68,"column":37}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":101,"column":41},"generated":{"line":68,"column":41}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":101,"column":46},"generated":{"line":68,"column":42}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":101,"column":51},"generated":{"line":68,"column":47}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":101,"column":51},"generated":{"line":68,"column":48}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":104,"column":19},"generated":{"line":69,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":104,"column":19},"generated":{"line":69,"column":9}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":104,"column":19},"generated":{"line":69,"column":15}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":104,"column":19},"generated":{"line":69,"column":20}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":104,"column":28},"generated":{"line":69,"column":24}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":104,"column":28},"generated":{"line":69,"column":33}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":104,"column":38},"generated":{"line":69,"column":34}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":105,"column":8},"generated":{"line":69,"column":42}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":105,"column":8},"generated":{"line":69,"column":44}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":106,"column":12},"generated":{"line":70,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":106,"column":12},"generated":{"line":70,"column":10}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":106,"column":17},"generated":{"line":70,"column":11}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":106,"column":17},"generated":{"line":70,"column":24}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":106,"column":31},"generated":{"line":70,"column":25}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":106,"column":36},"generated":{"line":70,"column":30}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":106,"column":36},"generated":{"line":70,"column":31}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":106,"column":36},"generated":{"line":71,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":107,"column":8},"generated":{"line":72,"column":2}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":108,"column":4},"generated":{"line":73,"column":2}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":108,"column":4},"generated":{"line":74,"column":0}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":108,"column":4},"generated":{"line":75,"column":0}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":108,"column":4},"generated":{"line":76,"column":0}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":114,"column":11},"generated":{"line":77,"column":2}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":114,"column":11},"generated":{"line":77,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":114,"column":18},"generated":{"line":77,"column":9}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":77,"column":17}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":77,"column":19}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":116,"column":8},"generated":{"line":78,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":116,"column":12},"generated":{"line":78,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":117,"column":8},"generated":{"line":78,"column":16}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":117,"column":8},"generated":{"line":78,"column":18}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":118,"column":12},"generated":{"line":79,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":118,"column":12},"generated":{"line":79,"column":10}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":118,"column":17},"generated":{"line":79,"column":11}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":118,"column":17},"generated":{"line":79,"column":14}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":118,"column":21},"generated":{"line":79,"column":15}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":118,"column":29},"generated":{"line":79,"column":23}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":118,"column":29},"generated":{"line":79,"column":24}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":118,"column":29},"generated":{"line":80,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":121,"column":15},"generated":{"line":81,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":121,"column":15},"generated":{"line":81,"column":11}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":121,"column":19},"generated":{"line":81,"column":15}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":121,"column":27},"generated":{"line":81,"column":22}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":121,"column":28},"generated":{"line":81,"column":23}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":122,"column":8},"generated":{"line":81,"column":30}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":122,"column":8},"generated":{"line":81,"column":34}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":123,"column":16},"generated":{"line":82,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":123,"column":16},"generated":{"line":82,"column":10}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":123,"column":16},"generated":{"line":82,"column":14}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":123,"column":21},"generated":{"line":82,"column":15}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":123,"column":21},"generated":{"line":82,"column":20}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":123,"column":27},"generated":{"line":82,"column":21}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":124,"column":12},"generated":{"line":82,"column":27}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":124,"column":12},"generated":{"line":82,"column":29}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":126,"column":21},"generated":{"line":83,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":126,"column":21},"generated":{"line":83,"column":12}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":126,"column":21},"generated":{"line":83,"column":13}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":126,"column":21},"generated":{"line":83,"column":21}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":126,"column":30},"generated":{"line":83,"column":22}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":126,"column":30},"generated":{"line":83,"column":26}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":126,"column":35},"generated":{"line":83,"column":27}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":126,"column":42},"generated":{"line":83,"column":34}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":126,"column":42},"generated":{"line":83,"column":35}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":129,"column":16},"generated":{"line":84,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":129,"column":16},"generated":{"line":84,"column":12}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":129,"column":21},"generated":{"line":84,"column":13}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":129,"column":33},"generated":{"line":84,"column":24}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":129,"column":33},"generated":{"line":84,"column":25}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":129,"column":33},"generated":{"line":84,"column":26}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":132,"column":16},"generated":{"line":85,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":132,"column":16},"generated":{"line":85,"column":22}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":132,"column":23},"generated":{"line":85,"column":23}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":132,"column":23},"generated":{"line":85,"column":29}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":132,"column":30},"generated":{"line":85,"column":30}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":132,"column":38},"generated":{"line":85,"column":37}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":132,"column":38},"generated":{"line":85,"column":38}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":132,"column":38},"generated":{"line":85,"column":42}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":132,"column":43},"generated":{"line":85,"column":43}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":132,"column":50},"generated":{"line":85,"column":48}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":132,"column":50},"generated":{"line":85,"column":50}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":132,"column":50},"generated":{"line":85,"column":54}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":132,"column":56},"generated":{"line":85,"column":56}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":132,"column":56},"generated":{"line":85,"column":78}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":132,"column":72},"generated":{"line":85,"column":79}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":132,"column":79},"generated":{"line":85,"column":86}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":132,"column":79},"generated":{"line":85,"column":87}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":132,"column":79},"generated":{"line":86,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":135,"column":12},"generated":{"line":86,"column":7}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":135,"column":12},"generated":{"line":86,"column":13}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":137,"column":24},"generated":{"line":87,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":137,"column":24},"generated":{"line":87,"column":15}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":137,"column":24},"generated":{"line":87,"column":16}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":137,"column":24},"generated":{"line":87,"column":17}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":137,"column":24},"generated":{"line":88,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":138,"column":12},"generated":{"line":89,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":139,"column":9},"generated":{"line":89,"column":5}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":139,"column":9},"generated":{"line":89,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":139,"column":9},"generated":{"line":90,"column":2}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":140,"column":4},"generated":{"line":91,"column":2}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":143,"column":11},"generated":{"line":92,"column":2}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":144,"column":4},"generated":{"line":92,"column":13}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":144,"column":4},"generated":{"line":92,"column":14}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":144,"column":4},"generated":{"line":92,"column":16}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":145,"column":14},"generated":{"line":93,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":145,"column":14},"generated":{"line":93,"column":10}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":145,"column":14},"generated":{"line":93,"column":14}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":145,"column":14},"generated":{"line":93,"column":17}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":145,"column":28},"generated":{"line":93,"column":32}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":145,"column":28},"generated":{"line":93,"column":38}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":145,"column":28},"generated":{"line":93,"column":39}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":145,"column":28},"generated":{"line":93,"column":45}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":145,"column":35},"generated":{"line":93,"column":46}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":145,"column":39},"generated":{"line":93,"column":50}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":145,"column":39},"generated":{"line":93,"column":51}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":146,"column":8},"generated":{"line":94,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":146,"column":12},"generated":{"line":94,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":146,"column":25},"generated":{"line":94,"column":18}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":146,"column":25},"generated":{"line":94,"column":21}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":146,"column":25},"generated":{"line":94,"column":22}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":148,"column":8},"generated":{"line":95,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":148,"column":8},"generated":{"line":95,"column":9}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":148,"column":17},"generated":{"line":95,"column":13}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":148,"column":17},"generated":{"line":95,"column":14}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":148,"column":21},"generated":{"line":95,"column":17}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":148,"column":24},"generated":{"line":95,"column":18}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":148,"column":24},"generated":{"line":95,"column":20}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":148,"column":24},"generated":{"line":95,"column":21}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":148,"column":28},"generated":{"line":95,"column":24}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":148,"column":33},"generated":{"line":95,"column":28}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":148,"column":33},"generated":{"line":95,"column":29}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":148,"column":33},"generated":{"line":95,"column":34}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":148,"column":39},"generated":{"line":95,"column":35}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":148,"column":39},"generated":{"line":95,"column":41}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":148,"column":47},"generated":{"line":95,"column":43}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":149,"column":8},"generated":{"line":95,"column":44}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":149,"column":8},"generated":{"line":95,"column":46}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":149,"column":8},"generated":{"line":95,"column":48}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":150,"column":18},"generated":{"line":96,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":150,"column":18},"generated":{"line":96,"column":12}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":150,"column":18},"generated":{"line":96,"column":19}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":150,"column":28},"generated":{"line":96,"column":22}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":150,"column":33},"generated":{"line":96,"column":26}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":150,"column":33},"generated":{"line":96,"column":27}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":150,"column":33},"generated":{"line":96,"column":32}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":150,"column":39},"generated":{"line":96,"column":33}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":150,"column":40},"generated":{"line":96,"column":34}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":150,"column":40},"generated":{"line":96,"column":35}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":152,"column":12},"generated":{"line":97,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":152,"column":16},"generated":{"line":97,"column":10}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":152,"column":17},"generated":{"line":97,"column":11}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":152,"column":17},"generated":{"line":97,"column":15}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":152,"column":22},"generated":{"line":97,"column":16}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":152,"column":30},"generated":{"line":97,"column":23}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":152,"column":30},"generated":{"line":97,"column":24}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":152,"column":33},"generated":{"line":97,"column":27}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":153,"column":12},"generated":{"line":97,"column":28}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":153,"column":12},"generated":{"line":97,"column":30}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":154,"column":21},"generated":{"line":98,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":154,"column":21},"generated":{"line":98,"column":12}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":154,"column":21},"generated":{"line":98,"column":13}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":154,"column":21},"generated":{"line":98,"column":20}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":154,"column":29},"generated":{"line":98,"column":21}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":154,"column":32},"generated":{"line":98,"column":24}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":154,"column":36},"generated":{"line":98,"column":25}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":154,"column":36},"generated":{"line":98,"column":28}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":154,"column":36},"generated":{"line":98,"column":32}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":155,"column":21},"generated":{"line":99,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":155,"column":21},"generated":{"line":99,"column":12}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":155,"column":21},"generated":{"line":99,"column":13}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":155,"column":21},"generated":{"line":99,"column":18}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":155,"column":27},"generated":{"line":99,"column":19}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":155,"column":27},"generated":{"line":99,"column":29}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":155,"column":39},"generated":{"line":99,"column":31}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":155,"column":43},"generated":{"line":99,"column":32}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":155,"column":43},"generated":{"line":99,"column":35}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":155,"column":43},"generated":{"line":99,"column":42}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":155,"column":43},"generated":{"line":100,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":156,"column":12},"generated":{"line":101,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":159,"column":8},"generated":{"line":102,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":159,"column":8},"generated":{"line":102,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":159,"column":13},"generated":{"line":102,"column":9}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":159,"column":13},"generated":{"line":102,"column":14}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":159,"column":19},"generated":{"line":102,"column":15}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":159,"column":28},"generated":{"line":102,"column":21}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":159,"column":28},"generated":{"line":102,"column":24}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":159,"column":28},"generated":{"line":102,"column":34}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":159,"column":28},"generated":{"line":103,"column":2}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":160,"column":4},"generated":{"line":104,"column":2}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":197,"column":12},"generated":{"line":105,"column":2}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":198,"column":4},"generated":{"line":105,"column":10}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":198,"column":4},"generated":{"line":105,"column":11}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":198,"column":4},"generated":{"line":105,"column":13}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":199,"column":14},"generated":{"line":106,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":199,"column":14},"generated":{"line":106,"column":10}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":199,"column":16},"generated":{"line":107,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":199,"column":16},"generated":{"line":108,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":199,"column":29},"generated":{"line":108,"column":5}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":199,"column":29},"generated":{"line":108,"column":8}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":199,"column":29},"generated":{"line":108,"column":12}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":202,"column":14},"generated":{"line":109,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":202,"column":14},"generated":{"line":109,"column":10}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":202,"column":14},"generated":{"line":109,"column":15}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":202,"column":22},"generated":{"line":109,"column":18}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":202,"column":31},"generated":{"line":109,"column":26}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":202,"column":31},"generated":{"line":109,"column":27}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":202,"column":31},"generated":{"line":109,"column":32}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":202,"column":37},"generated":{"line":109,"column":33}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":202,"column":38},"generated":{"line":109,"column":34}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":202,"column":38},"generated":{"line":109,"column":35}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":204,"column":8},"generated":{"line":110,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":204,"column":8},"generated":{"line":110,"column":12}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":204,"column":17},"generated":{"line":110,"column":13}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":204,"column":26},"generated":{"line":110,"column":19}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":204,"column":26},"generated":{"line":110,"column":22}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":204,"column":26},"generated":{"line":110,"column":23}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":206,"column":8},"generated":{"line":111,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":206,"column":8},"generated":{"line":111,"column":9}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":206,"column":19},"generated":{"line":111,"column":15}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":206,"column":19},"generated":{"line":111,"column":22}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":206,"column":30},"generated":{"line":111,"column":26}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":207,"column":8},"generated":{"line":111,"column":31}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":207,"column":8},"generated":{"line":111,"column":33}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":208,"column":20},"generated":{"line":112,"column":6}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":208,"column":20},"generated":{"line":112,"column":13}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":208,"column":20},"generated":{"line":112,"column":14}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":208,"column":20},"generated":{"line":112,"column":15}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":208,"column":20},"generated":{"line":113,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":209,"column":8},"generated":{"line":114,"column":2}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":211,"column":0},"generated":{"line":115,"column":0}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":211,"column":0},"generated":{"line":115,"column":1}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":211,"column":0},"generated":{"line":116,"column":0}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":31,"column":22},"generated":{"line":117,"column":0}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":31,"column":22},"generated":{"line":117,"column":12}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":34,"column":18},"generated":{"line":117,"column":13}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":34,"column":36},"generated":{"line":117,"column":28}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":34,"column":36},"generated":{"line":117,"column":31}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":34,"column":36},"generated":{"line":117,"column":32}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":31,"column":7},"generated":{"line":118,"column":0}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":31,"column":22},"generated":{"line":118,"column":4}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":31,"column":7},"generated":{"line":118,"column":15}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":31,"column":7},"generated":{"line":118,"column":18}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":31,"column":7},"generated":{"line":118,"column":25}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":31,"column":7},"generated":{"line":118,"column":26}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":31,"column":7},"generated":{"line":118,"column":37}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":31,"column":7},"generated":{"line":118,"column":40}},{"source":"../../src/prepare/PrepareBase.ts","name":null,"original":{"line":31,"column":7},"generated":{"line":118,"column":52}}],"sources":{"../../src/prepare/PrepareBase.ts":"import { Container } from '../scene/container/Container';\nimport { UPDATE_PRIORITY } from '../ticker/const';\nimport { Ticker } from '../ticker/Ticker';\n\nimport type { TextureSource } from '../rendering/renderers/shared/texture/sources/TextureSource';\nimport type { Texture } from '../rendering/renderers/shared/texture/Texture';\nimport type { Renderer } from '../rendering/renderers/types';\nimport type { GraphicsContext } from '../scene/graphics/shared/GraphicsContext';\nimport type { Text } from '../scene/text/Text';\n\n/**\n * The accepted types to pass to the prepare system\n * @category rendering\n * @advanced\n */\nexport type PrepareSourceItem = Container | TextureSource | Texture | GraphicsContext;\n\n/**\n * The valid types resolved to the queue ready for upload\n * @category rendering\n * @advanced\n */\nexport type PrepareQueueItem = TextureSource | Text | GraphicsContext;\n\n/**\n * Part of the prepare system. Responsible for uploading all the items to the GPU.\n * This class provides the base functionality and handles processing the queue asynchronously.\n * @category rendering\n * @advanced\n */\nexport abstract class PrepareBase\n{\n    /** The number of uploads to process per frame */\n    public static uploadsPerFrame = 4;\n\n    /** Reference to the renderer */\n    protected renderer: Renderer;\n\n    /** The queue to process over a async timer */\n    protected queue: PrepareQueueItem[];\n\n    /** Collection of callbacks to call when the uploads are finished */\n    protected resolves: ((value: void | PromiseLike<void>) => void)[];\n\n    /** Timeout id for next processing call */\n    protected timeout?: number;\n\n    /**\n     * @param {Renderer} renderer - A reference to the current renderer\n     */\n    constructor(renderer: Renderer)\n    {\n        this.renderer = renderer;\n        this.queue = [];\n        this.resolves = [];\n    }\n\n    /** Resolve the given resource type and return an item for the queue */\n    protected abstract resolveQueueItem(source: PrepareSourceItem, queue: PrepareQueueItem[]): void;\n    protected abstract uploadQueueItem(item: PrepareQueueItem): void;\n\n    /**\n     * Return a copy of the queue\n     * @returns {PrepareQueueItem[]} The queue\n     */\n    public getQueue(): PrepareQueueItem[]\n    {\n        return [...this.queue];\n    }\n\n    /**\n     * Add a textures or graphics resource to the queue\n     * @param {PrepareSourceItem | PrepareSourceItem[]} resource\n     */\n    public add(resource: PrepareSourceItem | PrepareSourceItem[]): this\n    {\n        const resourceArray = Array.isArray(resource) ? resource : [resource];\n\n        for (const resourceItem of resourceArray)\n        {\n            // handle containers and their children\n            if (resourceItem instanceof Container)\n            {\n                this._addContainer(resourceItem);\n            }\n            else\n            {\n                this.resolveQueueItem(resourceItem, this.queue);\n            }\n        }\n\n        return this;\n    }\n\n    /**\n     * Recursively add a container and its children to the queue\n     * @param {Container} container - The container to add to the queue\n     */\n    private _addContainer(container: Container): void\n    {\n        this.resolveQueueItem(container, this.queue);\n\n        // recursively add children\n        for (const child of container.children)\n        {\n            this._addContainer(child);\n        }\n    }\n\n    /**\n     * Upload all the textures and graphics to the GPU (optionally add more resources to the queue first)\n     * @param {PrepareSourceItem | PrepareSourceItem[] | undefined} resource\n     */\n    public upload(resource?: PrepareSourceItem | PrepareSourceItem[]): Promise<void>\n    {\n        if (resource)\n        {\n            this.add(resource);\n        }\n\n        return new Promise((resolve) =>\n        {\n            if (this.queue.length)\n            {\n                // add resolve callback to the collection\n                this.resolves.push(resolve);\n\n                // eliminate duplicates first\n                this.dedupeQueue();\n\n                // launch first tick\n                Ticker.system.addOnce(this._tick, this, UPDATE_PRIORITY.UTILITY);\n            }\n            else\n            {\n                // queue is empty, resolve immediately\n                resolve();\n            }\n        });\n    }\n\n    /** eliminate duplicates before processing */\n    public dedupeQueue(): void\n    {\n        const hash = Object.create(null);\n        let nextUnique = 0;\n\n        for (let i = 0; i < this.queue.length; i++)\n        {\n            const current = this.queue[i];\n\n            if (!hash[current.uid])\n            {\n                hash[current.uid] = true;\n                this.queue[nextUnique++] = current;\n            }\n        }\n\n        this.queue.length = nextUnique;\n    }\n\n    /** called per frame by the ticker, defer processing to next tick */\n    private readonly _tick = () =>\n    {\n        this.timeout = setTimeout(this._processQueue, 0) as unknown as number;\n    };\n\n    /** process the queue up to max item limit per frame */\n    private readonly _processQueue = () =>\n    {\n        const { queue } = this;\n        let itemsProcessed = 0;\n\n        // process the maximum number of items per frame\n        while (queue.length && itemsProcessed < PrepareBase.uploadsPerFrame)\n        {\n            const queueItem = queue.shift();\n\n            this.uploadQueueItem(queueItem);\n\n            itemsProcessed++;\n        }\n\n        if (queue.length)\n        {\n            // queue is not empty, continue processing on next frame\n            Ticker.system.addOnce(this._tick, this, UPDATE_PRIORITY.UTILITY);\n        }\n        else\n        {\n            // queue is empty, resolve immediately\n            this._resolve();\n        }\n    };\n\n    /** Call all the resolve callbacks */\n    private _resolve(): void\n    {\n        const { resolves } = this;\n\n        // call all resolve callbacks\n        const array = resolves.slice(0);\n\n        resolves.length = 0;\n\n        for (const resolve of array)\n        {\n            resolve();\n        }\n    }\n}\n"},"lineCount":null}},"error":null,"hash":"9528a27574bf433f18b88929a6284dc9","cacheData":{"env":{}}}